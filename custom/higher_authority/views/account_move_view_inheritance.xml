<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>


        <!-- VIEWS -->

        <!-- view Tre -->
        <record id="view_subscription_tree" model="ir.ui.view">
            <field name="name">account.subscription.tree</field>
            <field name="model">account.move</field>
            <field name="mode">primary</field>
            <field name="arch" type="xml">
                <xpath expr="//tree" position="attributes">
                    <attribute name="banner_route">/account/account_invoice_onboarding</attribute>
                </xpath>
                <xpath expr="//tree" position="inside">
                    <field name="invoice_date" optional="show"
                        invisible="context.get('default_move_type') not in ('out_invoice', 'out_refund','out_receipt')"
                        string="Invoice Date" />
                    <field name="date" optional="hide" string="Accounting Date" />
                    <field name="invoice_date_due" widget="remaining_days" optional="show"
                        string="Vencimiento de subscripciÃ³n"
                        attrs="{'invisible': [['payment_state', 'in', ('paid', 'in_payment', 'reversed')]]}" />
                    <field name="invoice_origin" optional="hide" string="Source Document" />
                    <field name="payment_reference" optional="hide"
                        invisible="context.get('default_move_type') in ('out_invoice', 'out_refund','out_receipt')" />
                    <field name="ref" optional="hide" />
                    <field name="payment_state"
                        widget="badge"
                        decoration-danger="payment_state == 'not_paid'"
                        decoration-warning="payment_state in ('partial', 'in_payment')"
                        decoration-success="payment_state in ('paid', 'reversed')"
                        attrs="{'invisible': [('payment_state', 'in', ('invoicing_legacy'))]}"
                        optional="show" />
                    <field name="state" widget="badge" decoration-success="state == 'posted'"
                        decoration-info="state == 'draft'" optional="show" />
                    <field name="move_type" invisible="context.get('default_move_type', True)" />
                    <field name='shareholder_id' optional="show" />
                </xpath>
                <field name="currency_id" position="attributes">
                    <attribute name="string">Subscription Currency</attribute>
                </field>
            </field>
        </record>
        <record id="view_integration_tree" model="ir.ui.view">
            <field name="name">account.integration.tree</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="higher_authority.view_move_tree" />
            <field name="mode">primary</field>
            <field name="arch" type="xml">
                <xpath expr="//tree" position="attributes">
                    <attribute name="banner_route">/account/account_invoice_onboarding</attribute>
                </xpath>
                <xpath expr="//tree" position="inside">
                    <field name='shareholder_id' optional="show" />
                </xpath>
                <field name="currency_id" position="attributes">
                    <attribute name="string">Integration Currency</attribute>
                </field>
            </field>
        </record>

        <!-- FORM VIEWS -->



        <!-- Herencias -->
        <!-- <record id="view_invoice_tree" model="ir.ui.view">
            <field name="name">account.invoice.tree</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_invoice_tree" />
            <field name="mode">primary</field>
            <field name="arch" type="xml">
                find field description and add the field
                    new_field after it
                <xpath expr="//button[@name='action_register_payment']" position="replace">
                    <button name="action_register_payment" type="object" string="Register Payment"
                        groups="account.group_account_user"
                        invisible="context.get('default_move_type') not in ('out_invoice', 'out_refund', 'out_receipt',
        'in_invoice', 'in_refund','in_receipt','subscription')" />
                </xpath>
            </field>
        </record> -->


        <!-- Actions -->
        <record id="action_move_subscription_type" model="ir.actions.act_window">
            <field name="name">Subscription Entries</field>
            <field name="res_model">account.move</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="view_id" ref="view_move_tree" />
            <field name="search_view_id" ref="view_account_move_filter" />
            <field name="context">{'default_move_type': 'subscription', 'search_default_posted':1,
                'view_no_maturity': True}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a Subscription Entry
                </p>
                <p>
                    A journal entry consists of several journal items, each of
                    which is either a debit or a credit transaction.
                </p>
            </field>
        </record>

        <record id="action_move_integration_type" model="ir.actions.act_window">
            <field name="name">Integration Entries</field>
            <field name="res_model">account.move</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="view_id" ref="view_move_tree" />
            <field name="search_view_id" ref="view_account_move_filter" />
            <field name="context">{'default_move_type': 'integration', 'search_default_posted':1,
                'view_no_maturity': True}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a Integration Entry
                </p>
                <p>
                    A journal entry consists of several journal items, each of
                    which is either a debit or a credit transaction.
                </p>
            </field>
        </record>
    </data>
</odoo>