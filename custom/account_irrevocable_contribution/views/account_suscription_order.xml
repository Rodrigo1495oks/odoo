<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>
        <!-- vistas list General -->
        <record id="account_suscription_order_view_tree" model="ir.ui.view">
            <field name="name">account.suscription.order.tree</field>
            <field name="model">account.suscription.order</field>
            <field name="arch" type="xml">
                <tree string="Suscription" decoration-success="state=='suscribed' or state=='finished'"
                      decoration-bf='state=="approved"' decoration-muted="state=='canceled'">
                    <field name="sequence" widget="handle" class="mr-3"/>
                    <field name="name"/>
                    <field name="date_order"/>
                    <field name="date_due"/>
                    <field name="share_qty"/>
                    <field name="price_total"/>
                    <field name="partner_id"/>
                    <field name="payment_term_id"/>
                    <field name="user_id" widget="many2one_avatar_user"/>
                    <field name="state"/>
                    <field name="stage_id"/>
                    <field name="qty_progress"/>
                </tree>
            </field>
        </record>
        <record id="account_suscription_order_view_form" model="ir.ui.view">
            <field name="name">account.suscription.order.form</field>
            <field name="model">account.suscription.order</field>
            <field name="arch" type="xml">
                <form string="Suscription Order">
                    <header>
                        <widget name="web_ribbon" title="Finished" bg_color="bg-success"
                                attrs="{'invisible': [('state', '!=', 'finished')]}"/>
                        <widget name="web_ribbon" title="Canceled" bg_color="bg-danger"
                                attrs="{'invisible': [('state', '!=', 'canceled')]}"/>
                        <button name="button_draft" string="To Draft" type="object"
                            class="oe_highlight"
                            states='new, canceled' />
                        <button name="button_confirm" string="Confirm Order" type="object"
                            class="oe_highlight"
                            attrs="{'invisible': [('state', '!=', 'draft')]}" states='draft'/>
                        <button name="button_suscribe" string="Subscribe" type="object"
                            class="oe_highlight"
                            attrs="{'invisible': [('state', '!=', 'approved')]}" />
                        <button name="button_approve" string="Approve" type="object"
                            class="oe_highlight"
                            attrs="{'invisible': [('state', 'in', ['approved','canceled','finished'])]}" />
                        <button name="button_integrate" string="Finish" type="object"
                            class="oe_highlight"
                            states="suscribed" />

                        <button name="button_cancel" string="To Cancel" type="object"
                            class="btn-outline-secondary"
                            states='draft,new,approved' />
                        <field name="state" widget="statusbar" options="{'clickable': '1', 'fold_field':'fold'}"
                               statusbar_visible="draft,new,approved,suscribed,finished,canceled"/>
                    </header>
                    <sheet>
                        <div class="oe_button_box" name="button_box">
                        <button type="object"  name="action_view_suscription"
                            class="oe_stat_button"
                            icon="fa-pencil-square-o" attrs="{'invisible':['|', ('suscription_move_count', '=', 0), ('state', 'in', ['draft','new','canceled'])]}">
                            <field name="suscription_move_count" widget="statinfo" string="Subscription Moves"/>
                            <field name='suscription_move' invisible="1"/>
                        </button>
                        </div>
                        <div class="oe_title">
                            <span class="o_form_label"
                                  attrs="{'invisible': [('state','in',['draft'])]}">Suscription Order
                            </span>
                            <span class="o_form_label" attrs="{'invisible': [('state','not in',['draft'])]}">Request for
                                Investments
                            </span>
                            <h1 class="d-flex mb32">
                                <field name="priority" widget="priority" class="me-3"/>
                                <field name="short_name" readonly="1"/>
                            </h1>
                        </div>
                        <newline/>
                        <group>
                            <group name='basic_info' string='Basic Info' id="basic_info">
                                <field name="name"/>
                                <field name='date_order'/>
                                <field name='date_due'/>
                                <label for="date_approve"
                                       attrs="{'invisible': [('state','not in',('suscribed','finished'))]}"/>
                                <div name="date_approve"
                                     attrs="{'invisible': [('state','not in',('suscribed','finished'))]}"
                                     class="o_row">
                                    <field name="date_approve"/>
                                    <field name="mail_reception_confirmed" invisible="1"/>
                                    <span class="text-muted"
                                          attrs="{'invisible': [('mail_reception_confirmed','=', False)]}">(confirmed by
                                        Investor)
                                    </span>
                                </div>
                                <label for="date_planned"/>
                                <div name="date_planned_div" class="o_row">
                                    <field name="date_planned"
                                           attrs="{'readonly': [('state', 'in', ['new', 'suscribed','finished'])],'required':[('state','=','approved')]}"/>
                                    <field name="mail_reminder_confirmed" invisible="1"/>
                                    <span class="text-muted"
                                          attrs="{'invisible': [('mail_reminder_confirmed', '=', False)]}">(confirmed by
                                        Investor)
                                    </span>
                                </div>
                                <label for="receipt_reminder_email" class="d-none"/>
                                <div name="reminder" class="o_row"
                                     title="Automatically send a confirmation email to the vendor X days before the expected receipt date, asking him to confirm the exact date.">
                                    <field name="receipt_reminder_email"/>
                                    <span>Ask confirmation</span>
                                    <div class="o_row oe_inline"
                                         attrs="{'invisible': [('receipt_reminder_email', '=', False)]}">
                                        <field name="reminder_date_before_receipt"/>
                                        day(s) before
                                        <widget name='toaster_button' button_name="send_reminder_preview"
                                                title="Preview the reminder email by sending it to yourself."
                                                attrs="{'invisible': [('id', '=', False)]}"/>
                                    </div>
                                </div>
                            </group>
                            <group name='shares' string='Shares' id="shares">
                                <field name="share_qty"/>
                                <field name="nominal_value"/>
                                <field name="price" widget="monetary"/>
                                <field name='price_total' widget="monetary"/>
                            </group>
                            <group name='company' id='company' string='Company'>
                                <field name="company_id"/>
                                <field name="currency_id" groups="base.group_multi_currency" force_save="1"/>
                                <field name="partner_id" widget="res_partner_many2one"
                                       placeholder="Name, TIN, Email, or Reference"/>
                                <field name="payment_term_id"/>
                                <field name="user_id" widget="many2one_avatar_user"/>
                                <field name="suscription_move_count" invisible="1"/>
                                <field name="suscription_move" invisible="1"/>
                                <field name="stage_id" invisible="1"/>
                                <field name="state" invisible="1"/>
                            </group>
                        </group>

                        <notebook>
                            <page string="Cash" name="cash" id="cash_lines">
                                <field name="cash_lines"
                                       context="{'default_state': 'draft'}"
                                       widget="section_and_note_one2many"
                                       mode="tree"
                                       attrs="{'readonly': [('state', 'in', ['suscribed', 'finished','canceled'])]}">
                                    <tree string="Suscription Line" decoration-success="state=='suscribed'"
                                          decoration-bf='state=="partial_contributed"'
                                          decoration-muted="state=='canceled'"
                                          editable="bottom">
                                        <control>
                                            <create name="add_product_control" string="Add a Cash Line"/>
                                            <create name="add_section_control" string="Add a section"
                                                    context="{'default_display_type': 'line_section'}"/>
                                            <create name="add_note_control" string="Add a note"
                                                    context="{'default_display_type': 'line_note'}"/>
                                        </control>
                                        <field name="sequence" widget="handle"/>
                                        <field name="name" widget="section_and_note_text"/>
                                        <field name="display_type" invisible="1"/>
                                        <field name="currency_id" optional="show"
                                               attrs="{'required': [('display_type', '=', False)],'readonly': [('state', '!=', 'draft')]}"
                                               force_save="1"/>
                                        <field name="money_type" widget='badge'
                                               attrs="{'required': [('display_type', '=', False)], 'readonly': [('state', '!=', 'draft')]}"
                                               force_save="1"/>
                                        <field name="description" optional="show"
                                               attrs="{'required': [('display_type', '=', False)], 'readonly': [('state', '!=', 'draft')]}"/>
                                        <field name="price_unit" widget='monetary'/>
                                        <field name="price_total" widget='monetary'/>
                                        <field name="state" optional="show" widget="badge"
                                               decoration-success="state == 'integrated'"
                                               decoration-warning="state == 'suscribed'"
                                               decoration-muted="state=='canceled'"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Credit Lines" name="credit" id="credit_lines">
                                <field name="credit_lines"
                                       context="{'default_state': 'draft'}"
                                       widget="section_and_note_one2many"
                                       mode="tree"
                                       attrs="{'readonly': [('state', 'in', ['suscribed', 'finished','canceled'])]}">
                                    <tree string="Suscription Line Credit" decoration-success="state=='suscribed'"
                                          decoration-bf='state=="partial_contributed"'
                                          decoration-muted="state=='canceled'" editable="bottom">
                                        <control>
                                            <create name="add_product_control" string="Add a Credit Line"/>
                                            <create name="add_section_control" string="Add a section"
                                                    context="{'default_display_type': 'line_section'}"/>
                                            <create name="add_note_control" string="Add a note"
                                                    context="{'default_display_type': 'line_note'}"/>
                                        </control>
                                        <field name="sequence" widget="handle"/>
                                        <field name="display_type" invisible="1"/>
                                        <field name="credit_type"
                                               attrs="{'required': [('display_type', '=', False)], 'readonly': [('state', '!=', 'draft')]}"/>
                                        <field name="currency_id"
                                               attrs="{'required': [('display_type', '=', False)], 'readonly': [('state', '!=', 'draft')]}"/>
                                        <field name="name" widget="section_and_note_text"/>
                                        <field optional="show"
                                               name="doc_source"
                                               attrs="{'required': [('display_type', '=', False)], 'readonly': [('state', '!=', 'draft')]}"/>
                                        <field name="partner_id"
                                               attrs="{'required': [('display_type', '=', False)], 'readonly': [('state', '!=', 'draft')]}"
                                               widget="many2one_avatar"/>
                                        <field name="price_unit" widget='monetary'/>
                                        <field name="price_total" widget='monetary'/>
                                        <field name="state" optional="show" widget="badge"
                                               decoration-success="state == 'integrated'"
                                               decoration-warning="state == 'suscribed'"
                                               decoration-muted="state=='canceled'"/>
                                    </tree>
                                </field>
                            </page>
                            <page string="Product Lines" name="product" id="product_lines">
                                <field name="product_lines"
                                       context="{'default_state': 'draft'}"
                                       widget="section_and_note_one2many"
                                       mode="tree"
                                       attrs="{'readonly': [('state', 'in', ['suscribed', 'finished','canceled'])]}">
                                    <tree string="Suscription Line Product" decoration-success="state=='suscribed'"
                                          decoration-bf='state=="partial_contributed"'
                                          decoration-muted="state=='canceled'"
                                          editable="bottom">
                                        <control>
                                            <create name="add_product_control" string="Add a product"/>
                                            <create name="add_section_control" string="Add a section"
                                                    context="{'default_display_type': 'line_section'}"/>
                                            <create name="add_note_control" string="Add a note"
                                                    context="{'default_display_type': 'line_note'}"/>
                                        </control>
                                        <field name="sequence" widget="handle"/>
                                        <field name="name" widget="section_and_note_text"/>
                                        <field name="display_type" invisible="1"/>
                                        <field name="product_type" invisible="1"/>
                                        <field name="date" optional="show"
                                               attrs="{'required': [('display_type', '=', False)]}" force_save="1"/>
                                        <field name="product_uom_category_id" invisible="1"/>

                                        <field name="currency_id"
                                               attrs="{
                                                'readonly': [('state', '!=', 'draft')],
                                                'required': [('display_type', '=', False)]}" force_save="1"/>
                                        <field name="product_id"
                                               attrs="{
                                                'readonly': [('state', '!=', 'draft')],
                                                'required': [('display_type', '=', False)]}"
                                               force_save="1"
                                               domain="['|', ('company_id', '=', False), ('company_id', '=', parent.company_id)]"/>

                                        <field name="asset_profile_id" attrs="{
                                                'readonly': [('state', 'not in', ['draft','suscribed','finished','approved'])],
                                                }"/>
                                        <field name="product_qty" attrs="{
                                                'readonly': [('state', '!=', 'draft')],
                                                'required': [('display_type', '=', False)]}"/>
                                        <field name="qty_received_manual" invisible="1"/>
                                        <field name="qty_received_method" invisible="1"/>
                                        <field name="qty_received" string="Received"
                                               attrs="{'column_invisible': [('parent.state', 'not in', ('suscribed', 'finished'))], 'readonly': [('qty_received_method', '!=', 'manual')]}"
                                               optional="show"/>

                                        <field name="product_uom_id" string="UoM" groups="uom.group_uom"
                                               attrs="{'readonly': [('state', 'in', ['partial_contributed', 'integrated', 'canceled'])],'required': [('display_type', '=', False)]}"
                                               force_save="1" optional="show"/>
                                        <field name="product_packaging_qty"
                                               attrs="{'invisible': ['|',('product_id', '=', False), ('product_packaging_id', '=', False)]}"
                                               groups="product.group_stock_packaging" optional="show"/>
                                        <field name="product_packaging_id"
                                               attrs="{'invisible': [('product_id', '=', False)]}"
                                               context="{'default_product_id': product_id, 'tree_view_ref':'product.product_packaging_tree_view', 'form_view_ref':'product.product_packaging_form_view'}"
                                               groups="product.group_stock_packaging" optional="show"/>
                                        <field name="price_unit" widget='monetary'/>
                                        <field name="price_total" widget='monetary'/>
                                        <field name="state" optional="show" widget="badge"
                                               decoration-success="state == 'integrated'"
                                               decoration-warning="state == 'suscribed'"
                                               decoration-muted="state=='canceled'"/>
                                    </tree>
                                </field>
                                <div class="clearfix"/>
                            </page>
                        </notebook>
                        <group>
                            <field name="qty_progress" widget="progressbar"
                                   states="suscribed,finished"/>
                        </group>
                        <group>
                            <group>
                                <field colspan="2" name="notes" placeholder="Add an internal note..." nolabel="1"
                                       height="50"/>
                            </group>
                            <group class="oe_subtotal_footer oe_right row">
                                <section class="mx-1 col-8 p-1">
                                    <p>Qty Pending:</p>
                                    <p>Total in Cash:</p>
                                    <p>Total in Credits:</p>
                                    <p>Total in Product:</p>
                                    <h3 class="">Total:</h3>
                                </section>
                                <section class="mx-1 col-4 p-1">
                                    <field name="qty_pending" class="font-weight-bold" string="Pending" nolabel="1"
                                           colspan="2" readonly="1" widget="monetary"/>
                                    <field name="cash_total" class="font-weight-bold" string="Cash Total" nolabel="1"
                                           colspan="2" readonly="1" widget="monetary"/>
                                    <field name="credit_total" class="font-weight-bold" string="Credit Total"
                                           nolabel="1"
                                           colspan="2" readonly="1" widget="monetary"/>
                                    <field name="product_total" class="font-weight-bold" string="Product Total"
                                           nolabel="1"
                                           colspan="2" readonly="1" widget="monetary"/>
                                    <field name="product_total" class="font-weight-bold" string="Product Total"
                                           nolabel="1"
                                           colspan="2" readonly="1" widget="monetary"/>
                                </section>
                            </group>
                        </group>

                        <div class="o_attachment_preview"
                             options="{types: ['image', 'pdf'], 'order':'desc'}"
                             attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                        <div class="oe_chatter">
                            <field name="message_follower_ids"/>
                            <field name="activity_ids"/>
                            <field name="message_ids"/>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>
        <!-- Search view -->

        <record id="account_suscription_order_view_search" model="ir.ui.view">
            <field name="name">account.suscription.order.search</field>
            <field name="model">account.suscription.order</field>
            <field name="arch" type="xml">
                <search string="Suscriptions">
                    <field name="name" string="Name"
                           filter_domain="['|', '|','|',
                            ('name', 'ilike', self),
                            ('short_name', '=', self),
                            ('description', 'ilike', self),
                            ('partner_id','child_of',self)]"/>

                    <field name="short_name" string="Referencia"/>
                    <field name="user_id"
                           string="User" widget='many2one'/>
                    <separator/>
                    <filter
                            name="priority" string="Priority Urgency"
                            domain="[('priority','=','1')]"/>
                    <filter name="active"
                            string="Activos" domain="[('active','=',True)]"/>
                    <filter name="integration_status"
                            string="To integrate" domain="[('integration_status','=','to integrate')]"/>
                    <separator/>
                    <filter name="order_date" string="Order Date" date="date_order"/>
                    <filter name="draft_rfqs" string="Draft RFQs" domain="[('state', '=', 'draft')]"/>
                    <filter name="waiting_rfqs" string="Waiting RFQs"
                            domain="[('state', '=', 'new'), ('date_order', '&gt;=', datetime.datetime.now())]"/>
                    <filter name="late_rfqs" string="Late RFQs"
                            domain="[('state', 'in', ['draft', 'new', 'approve']),('date_order', '&lt;', datetime.datetime.now())]"/>
                    <separator/>
                    <filter invisible="1" string="Late Activities" name="activities_overdue"
                            domain="[('my_activity_date_deadline', '&lt;', context_today().strftime('%Y-%m-%d'))]"
                            help="Show all records which has next action date is before today"/>
                    <filter invisible="1" string="Today Activities" name="activities_today"
                            domain="[('my_activity_date_deadline', '=', context_today().strftime('%Y-%m-%d'))]"/>
                    <filter invisible="1" string="Future Activities" name="activities_upcoming_all"
                            domain="[('my_activity_date_deadline', '&gt;', context_today().strftime('%Y-%m-%d'))]"/>
                    <separator/>
                    <filter string="Warnings" name="activities_exception"
                            domain="[('activity_exception_decoration', '!=', False)]"/>
                    <group expand="1" string="Group By">
                        <filter string="State" name="state" context="{'group_by':'state'}"/>
                        <filter string="Shareholder" name="partner_id"
                                context="{'group_by':'partner_id'}"/>
                        <filter string="Company" name="company_id"
                                context="{'group_by':'company_id'}"/>
                        <filter string="Payment term" name="payment_term_id"
                                context="{'group_by':'payment_term_id'}"/>
                        <filter string="Currency" name="currency_id"
                                context="{'group_by':'currency_id'}"/>
                        <filter string="User" name="user_id"
                                context="{'group_by':'user_id'}"/>
                        <filter string="Stage" name="stage_id"
                                context="{'group_by':'stage_id'}"/>
                    </group>
                    <!-- Panel lateral de busqueda -->
                    <searchpanel>
                        <field name='user_id' icon='fa fa-users'/>
                        <field name='partner_id' icon='fa fa-list' select="multi"/>
                        <field name='currency_id' icon='fa fa-list' select="multi"/>
                        <field name='stage_id' icon='fa fa-list' select="multi"/>
                    </searchpanel>
                </search>
            </field>
        </record>

        <!-- Estate Property Kanban View  -->
        <record model="ir.ui.view" id="view_account_suscription_order_kanban">
            <field name="name">account.suscription.order.kanban</field>
            <field name="model">account.suscription.order</field>
            <field name="arch" type="xml">
                <!-- class="o_kanban_mobile" js_class="property_kanban_dashboard" sample="1" -->
                <kanban default_group_by="state" group_create='1' group_delete='1' group_edit='1'
                        archivable='1' quick_create='1'
                        quick_create_view='account_suscription_order.account_suscription_order_quick_create'
                        on_create='0'>
                    <field name="short_name"/>
                    <field name="name"/>
                    <field name="origin"/>
                    <field name="partner_id"/>
                    <field name="state"/>
                    <field name="stage_id"/>
                    <field name="date_order"/>
                    <field name="date_approve"/>
                    <field name="date_planned"/>
                    <field name="company_id"/>
                    <field name="user_id"/>
                    <field name="nominal_value"/>
                    <field name="price"/>
                    <field name="price_total"/>
                    <field name="qty_pending"/>
                    <field name="qty_progress"/>

                    <progressbar field="activity_state"
                                 colors='{"planned": "success", "today": "warning", "overdue": "danger"}'/>
                    <templates>
                        <t t-name="kanban-box">
                            <div
                                    t-attf-class="d-flex flex-column p-0 oe_kanban_card oe_kanban_global_click">
                                <div
                                        class="o_kanban_content p-0 m-0 position-relative row d-flex flex-fill">
                                    <div
                                            class="col-3 text-bg-primary p-2 text-center d-flex flex-column justify-content-center">
                                        <div>
                                            <t t-esc="luxon.DateTime.fromISO(record.date_order.raw_value).toFormat('d')"
                                               class="o_event_fontsize_20"></t>

                                        </div>
                                        <div>
                                            <t t-esc="luxon.DateTime.fromISO(record.date_approve.raw_value).toFormat('MMM yyyy')"/>
                                        </div>
                                        <div>
                                            <t t-esc="luxon.DateTime.fromISO(record.date_planned.raw_value).toFormat('t')"/>
                                        </div>
                                        <div t-if="record.date_order.raw_value !== record.date_approve.raw_value">
                                            <i class="fa fa-arrow-right me-2 o_event_fontsize_09"
                                               title="End date"/>
                                            <t t-esc="luxon.DateTime.fromISO(record.date_planned.raw_value).toFormat('d MMM')"/>
                                        </div>
                                        <div t-else="">
                                            <p class="font-weight-bold text-center">
                                                <span t-esc="record.date_approve.raw_value"/>
                                            </p>
                                            <p class="font-weight-bold text-center">
                                                <span t-esc="record.date_planned.raw_value"/>
                                            </p>
                                            <p class="font-weight-bold text-center">
                                                <span t-esc="record.date_order.raw_value"/>
                                            </p>
                                        </div>
                                    </div>
                                    <div
                                            class="o_kanban_record_top mb16 col-9 py-2 px-3 d-flex flex-column justify-content-between pt-3">
                                        <div class="o_kanban_record_headings ml-1">
                                            <div>
                                                <div class="o_kanban_record_title o_text_overflow"
                                                     t-att-title="record.name.value">
                                                    <a type="open">
                                                        <field name="name"/>
                                                    </a>
                                                    <span t-esc="record.short_name.value"/>
                                                </div>
                                                <div t-if="record.company_id.value" class="d-flex">
                                                    <i class="fa fa-map-marker mt-1 me-1"
                                                       title="Location"/>
                                                    <span t-esc="record.company_id.value"/>
                                                </div>
                                            </div>
                                            <strong class="o_kanban_record_title">
                                                <h5 class="o_event_fontsize_11 p-0">
                                                    <div t-if="record.partner_id.value">
                                                        <div class="pt-2 pt-md-0">
                                                            <br/>
                                                            <i class="fa fa-level-up fa-rotate-90"
                                                               title="Confirmed"/>
                                                            <span>
                                                                <t t-esc="record.partner_id.value"/>
                                                            </span>

                                                        </div>
                                                    </div>
                                                </h5>
                                            </strong>
                                            <section class="p-1 mb-2 bg-info text-white font-weight-bold">
                                                <p t-esc="record.nominal_value.value"></p>
                                                <p t-esc="record.price.value"></p>
                                                <p t-esc="record.price_total.value"></p>
                                            </section>
                                        </div>
                                    </div>
                                    <div class="o_kanban_record_bottom">
                                        <div class="oe_kanban_bottom_left">

                                            <p class='font-weight-bolder p-1 mb-2 text-white-50 bg-success font-weight-bold rounded'>
                                                <t t-esc="record.short_name.value"/>
                                            </p>
                                            <br/>
                                            <field name="activity_ids" widget="kanban_activity"/>
                                        </div>
                                        <div class="oe_kanban_bottom_right">
                                            <field name="state" widget="label_selection"
                                            />
                                            <newline/>
                                            <field name="user_id" widget="many2one_avatar_user"/>
                                            <!-- options="{'classes': {'draft': 'default', 'new':
                                        'default', 'finished': 'success', 'canceled': 'warning'}}" -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>
        <!--QUICK CREATE-->
        <record id="account_suscription_order_form_quick_create" model="ir.ui.view">
            <field name="name">account.suscription.order.quick_create</field>
            <field name="model">account.suscription.order</field>
            <field name="priority">1000</field>
            <field name="arch" type="xml">
                <form>
                    <group>
                        <field name="name" placeholder="e.g. Investments for year..."/>
                        <label for="date_order" string="Date"/>
                        <div class="o_row">
                            <field name="date_order" widget="daterange"
                                   options="{'related_end_date': 'date_due'}"/>
                            <i class="fa fa-long-arrow-right mx-2" aria-label="Arrow icon"
                               title="Arrow"/>
                            <field name="date_due" widget="daterange"
                                   options="{'related_start_date': 'date_order'}"/>
                        </div>
                        <section>
                            <field name="notes"/>
                            <field name="share_qty"/>
                            <field name="partner_id"/>
                            <field name="payment_term_id"/>
                            <field name="currency_id"/>
                        </section>
                    </group>
                </form>
            </field>
        </record>
        <record id="view_account_suscription_order_calendar" model="ir.ui.view">
            <field name="model">account.suscription.order</field>
            <field name="arch" type="xml">
                <calendar date_start="date_order" date_stop="date_due" color="payment_term_id"
                          event_open_popup='1' quick_add='1'>
                    <field name="name"/>
                    <field name="short_name"/>
                    <field name="partner_id"/>
                    <field name="currency_id"/>
                    <field name="stage_id"/>
                    <field name="integration_status"/>
                </calendar>
            </field>
        </record>
        <record id="view_account_suscription_order_graph" model="ir.ui.view">
            <field name="model">account.suscription.order</field>
            <field name="arch" type="xml">
                <graph type="bar" stacked="1">
                    <field name="user_id"/>
                    <field name="state"/>
                    <field name="integration_status"/>
                    <field name='date_approve' interval='month'/>
                </graph>
            </field>
        </record>
        <record id="view_account_suscription_order_pivot" model="ir.ui.view">
            <field name="model">account.suscription.order</field>
            <field name="arch" type="xml">
                <pivot>
                    <field name="partner_id" type="row"/>
                    <field name="state" type="col"/>
                    <field name="amount_total" type="measure"/>
                </pivot>
            </field>
        </record>
        <record id="view_project_tasks_activity" model="ir.ui.view">
            <field name="name">account.suscription.order.activity</field>
            <field name="model">account.suscription.order</field>
            <field name="arch" type="xml">
                <activity string="Tasks">
                    <templates>
                        <div t-name="activity-box">
                            <div>
                                <field name="name" display="full"/>
                                <field name="payment_term_id"
                                       muted="1" display="full"/>
                                <field name="state"
                                       muted="1" display="full"/>
                            </div>
                        </div>
                    </templates>
                </activity>
            </field>
        </record>
        <!-- Accion para crear la orden -->
        <record id="account_suscription_order_action" model="ir.actions.act_window">
            <field name="name">Create Suscription Order</field>
            <field name="res_model">account.suscription.order</field>
            <field name="view_mode">tree,form,calendar,activity,graph,pivot,kanban</field>
            <field name="view_id" ref="account_suscription_order_view_tree"/>
            <field name="domain">[]</field>
            <field name="context">{}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a new Suscription Order
                </p>
                <p>You must define a product for everything you sell or purchase,
                    whether it's a storable product, a consumable or a service.
                </p>
            </field>
        </record>
    </data>


</odoo>